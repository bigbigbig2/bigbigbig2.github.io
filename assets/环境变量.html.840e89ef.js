import{_ as n,c as a}from"./app.3f041a55.js";const s={},e=a(`<h2 id="_1-\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#_1-\u7B80\u4ECB" aria-hidden="true">#</a> 1\uFF0C\u7B80\u4ECB</h2><p>\u4E00\u4E2A\u9879\u76EE\u53EF\u80FD\u4F1A\u6709\u5F00\u53D1\u7248\u672C\u3001\u4E0A\u7EBF\u7248\u672C\u3001\u6D4B\u8BD5\u7248\u672C\u7B49\u7B49\u591A\u4E2A\u7248\u672C\uFF0C\u4E0D\u540C\u7684\u73AF\u5883\u4F1A\u6709\u4E0D\u540C\u8BF7\u6C42api\u63A5\u53E3\uFF0C\u5C31\u9700\u66F4\u6539\u4E00\u4E9B\u57FA\u672C\u914D\u7F6E\uFF0C\u57FA\u672C\u8DEF\u5F84\uFF0C\u670D\u52A1\u5668\u4EE3\u7406\u8FD9\u79CD\u90FD\u8981\u66F4\u6539\u4E00\u904D\uFF0C\u8FD9\u65F6\u5019\u5C31\u663E\u5F97\u5F88\u9EBB\u70E6\uFF0C\u6240\u4EE5\u8FD9\u91CC\u5C31\u4F7F\u7528\u4E86\u73AF\u5883\u53D8\u91CF\u3002\u82E5\u624B\u52A8\u5207\u6362\u63A5\u53E3\u5730\u5740\u662F\u76F8\u5F53\u7E41\u7410\u4E14\u6613\u51FA\u9519\u7684\u3002\u4E8E\u662F\u73AF\u5883\u53D8\u91CF\u914D\u7F6E\u7684\u9700\u6C42\u5C31\u5E94\u8FD0\u800C\u751F\uFF0C\u6211\u4EEC\u53EA\u9700\u505A\u7B80\u5355\u7684\u914D\u7F6E\uFF0C\u628A\u73AF\u5883\u72B6\u6001\u5207\u6362\u7684\u5DE5\u4F5C\u4EA4\u7ED9\u4EE3\u7801\u3002</p><ul><li>\u5F00\u53D1\u73AF\u5883\uFF08\u5F00\u53D1\u9636\u6BB5\uFF0C\u672C\u5730\u5F00\u53D1\u7248\u672C\uFF0C\u4E00\u822C\u4F1A\u4F7F\u7528\u4E00\u4E9B\u8C03\u8BD5\u5DE5\u5177\u6216\u989D\u5916\u7684\u8F85\u52A9\u529F\u80FD\uFF09</li><li>\u6D4B\u8BD5\u73AF\u5883\uFF08\u6D4B\u8BD5\u9636\u6BB5\uFF0C\u4E0A\u7EBF\u524D\u7248\u672C\uFF0C\u9664\u4E86\u4E00\u4E9B bug \u7684\u4FEE\u590D\uFF0C\u57FA\u672C\u4E0D\u4F1A\u548C\u4E0A\u7EBF\u7248\u672C\u6709\u5F88\u5927\u5DEE\u522B\uFF09</li><li>\u751F\u4EA7\u73AF\u5883\uFF08\u4E0A\u7EBF\u9636\u6BB5\uFF0C\u6B63\u5F0F\u5BF9\u5916\u53D1\u5E03\u7684\u7248\u672C\uFF0C\u4E00\u822C\u4F1A\u8FDB\u884C\u4F18\u5316\uFF0C\u5173\u6389\u9519\u8BEF\u62A5\u544A\uFF09</li></ul><h2 id="_2-\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_2-\u4F7F\u7528" aria-hidden="true">#</a> 2\uFF0C\u4F7F\u7528</h2><h3 id="_1-\u521B\u5EFA-env\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_1-\u521B\u5EFA-env\u6587\u4EF6" aria-hidden="true">#</a> [1]\u521B\u5EFA.env\u6587\u4EF6</h3><ul><li>\u76F4\u63A5\u5728\u6839\u76EE\u5F55\u4E0B\u521B\u5EFA<code>.env</code>\u540E\u7F00\u7684\u6587\u4EF6</li><li>.<code>env</code> \u2014\u2014\u5168\u5C40\u7684\uFF0C\u6CA1\u6709\u8BBE\u7F6E\u5176\u4ED6\u73AF\u5883\u53D8\u91CF\u65F6\uFF0C\u4F1A\u52A0\u8F7D\u8FD9\u4E2A\u6587\u4EF6\u91CC\u7684\u5185\u5BB9\uFF0C\u6BD4\u5982\u6240\u6709\u7248\u672C\u90FD\u4F7F\u7528\u7684\u662F\u540C\u4E00\u4E2A\u63A5\u53E3\u5730\u5740\u65F6,\u5C31\u53EF\u4EE5\u5199\u5728\u8FD9\u4E00\u4E2A\u6587\u4EF6\u91CC\u9762\u5C31\u884C</li><li><code>.env.development</code> \u2014\u2014\u5F00\u53D1\u73AF\u5883\u4E0B\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u4F1A\u8986\u76D6.env\u8FD9\u4E2A\u6587\u4EF6\u91CC\u5B9A\u4E49\u7684\u73AF\u5883\u53D8\u91CF\uFF08\u6BD4\u5982\u6267\u884Cnpm run dev\u547D\u4EE4\uFF0C\u4F1A\u81EA\u52A8\u52A0\u8F7D.<code>env.development</code>\u6587\u4EF6\uFF09</li><li><code>.env.production</code> \u2014\u2014\u751F\u4EA7\u73AF\u5883\u4E0B\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u4F1A\u8986\u76D6 .env\u8FD9\u4E2A\u6587\u4EF6\u91CC\u5B9A\u4E49\u7684\u73AF\u5883\u53D8\u91CF</li></ul><p>[\u6CE8] &quot;.env.[name]&quot;\u662F\u53EF\u4EE5\u81EA\u5B9A\u4E49\u7684\uFF0C\u524D\u63D0\u662F\u5F97\u5728package.json\u91CC\u9762\u505A\u5BF9\u5E94\u7684\u540D\u79F0\u4FEE\u6539,\u53EA\u662F\u6CA1\u6709\u4FEE\u6539\u7684\u8BDD\u4F1A\u9ED8\u8BA4\u9ED8\u8BA4</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> #\u4F8B\u5982\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D
 <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token string-property property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite --mode dev&quot;</span><span class="token punctuation">,</span> <span class="token comment">//-\u5F00\u53D1\u73AF\u5883\u65F6\u9009\u62E9.env.dev\u4F5C\u4E3A\u73AF\u5883\u914D\u7F6E\u6587\u4EF6</span>
     <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite build&quot;</span><span class="token punctuation">,</span>
     <span class="token string-property property">&quot;serve&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite preview&quot;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_2-\u83B7\u53D6\u73AF\u5883\u53D8\u91CF" tabindex="-1"><a class="header-anchor" href="#_2-\u83B7\u53D6\u73AF\u5883\u53D8\u91CF" aria-hidden="true">#</a> [2]\u83B7\u53D6\u73AF\u5883\u53D8\u91CF</h3><p>\u4E4B\u524D\u4F7F\u7528vuecli\u6784\u5EFA\u7684\u9879\u76EE\u53EF\u4EE5\u901A\u8FC7<code>p<wbr>rocess.env</code>\u6765\u83B7\u53D6\u73AF\u5883\u53D8\u91CF\uFF0C\u4F46\u662F\u5728vite\u4E2D\u4E0D\u5141\u8BB8\u4E86</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u73AF\u5883\u53D8\u91CF=&gt;&quot;</span><span class="token punctuation">,</span>process<span class="token punctuation">.</span>env<span class="token punctuation">)</span> <span class="token comment">//error</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>vite\u4E2D\u9700\u8981\u4F7F\u7528i<wbr>mport.meta.env\u6765\u83B7\u53D6env\u5BF9\u8C61\u4E86</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token comment">//main.js</span>
 <span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
 <span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
 
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u73AF\u5883\u53D8\u91CF=&gt;&quot;</span><span class="token punctuation">,</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/63bdaab270c241ed93bb812ccbcd4e80~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20211124221154916"></p><p>\u6839\u636E\u73AF\u5883\u53D8\u91CF<a href="https://cn.vitejs.dev/guide/env-and-mode.html#env-variables" target="_blank" rel="noopener noreferrer">\u5B98\u65B9\u6587\u6863</a></p><p>Vite \u5728\u4E00\u4E2A\u7279\u6B8A\u7684 <strong><code>i<wbr>mport.meta.env</code></strong> \u5BF9\u8C61\u4E0A\u66B4\u9732\u73AF\u5883\u53D8\u91CF\u3002\u8FD9\u91CC\u6709\u4E00\u4E9B\u5728\u6240\u6709\u60C5\u51B5\u4E0B\u90FD\u53EF\u4EE5\u4F7F\u7528\u7684\u5185\u5EFA\u53D8\u91CF\uFF1A</p><ul><li><strong><code>i<wbr>mport.meta.env.MODE</code></strong>: {string} \u5E94\u7528\u8FD0\u884C\u7684<a href="https://cn.vitejs.dev/guide/env-and-mode.html#modes" target="_blank" rel="noopener noreferrer">\u6A21\u5F0F</a>\u3002</li><li><strong><code>i<wbr>mport.meta.env.BASE_URL</code></strong>: {string} \u90E8\u7F72\u5E94\u7528\u65F6\u7684\u57FA\u672CURL\u3002\u4ED6\u7531<a href="https://cn.vitejs.dev/config/#base" target="_blank" rel="noopener noreferrer"><code>base</code> \u914D\u7F6E\u9879</a>\u51B3\u5B9A\u3002</li><li><strong><code>i<wbr>mport.meta.env.PROD</code></strong>: {boolean} \u5E94\u7528\u662F\u5426\u8FD0\u884C\u5728\u751F\u4EA7\u73AF\u5883\u3002</li><li><strong><code>i<wbr>mport.meta.env.DEV</code></strong>: {boolean} \u5E94\u7528\u662F\u5426\u8FD0\u884C\u5728\u5F00\u53D1\u73AF\u5883 (\u6C38\u8FDC\u4E0E <code>i<wbr>mport.meta.env.PROD</code>\u76F8\u53CD)\u3002</li></ul><p>[\u6CE8] \u5728package.json\u4E2D\u8868\u793A\u7684\u73AF\u5883\u53D8\u91CF\u7684\u540D\u79F0\u7684\u4F18\u5148\u7EA7\u9AD8\u4E8E.env.[mode]\u6587\u4EF6\u4E2D\u914D\u7F6E\u7684</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token comment">//\u4F8B\u5982\u5728\u9879\u76EE\u6839\u76EE\u5F55\u4E0B\u521B\u5EFA\u4E00\u4E2A.env.dev\u6587\u4EF6</span>
 <span class="token constant">MODE_DEV</span><span class="token operator">=</span>development <span class="token comment">//\u5B9A\u4E49env\u5BF9\u8C61\u7684MOOD\u7684\u540D\u79F0</span>
 VITE_Name<span class="token operator">=</span>jack
 <span class="token comment">//package.json</span>
 <span class="token string-property property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite --mode dev&quot;</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/46b61c87eedd4fd386a278bf0c98ef77~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20211124222100762"></p><p>[\u6CE8] \u53EA\u6709\u4EE5 <code>VITE_</code> \u4E3A\u524D\u7F00\u7684\u53D8\u91CF\u624D\u4F1A\u66B4\u9732\u7ED9\u7ECF\u8FC7vite\u5904\u7406\u7684\u4EE3\u7801\u3002\u4F8B\u5982\uFF1A\u624D\u80FD\u901A\u8FC7<code>i<wbr>mport.meta.env.VITE_Name</code>\u76F8\u5E94\u53D8\u91CF\u7684\u503C\u3002\uFF08vite\u73AF\u5883\u4E0B\u4E3AVITE\uFF0Cvuecli\u73AF\u5883\u4E0B\u4E3AVUE)</p><h3 id="_2-\u914D\u7F6E\u6587\u4EF6\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#_2-\u914D\u7F6E\u6587\u4EF6\u8BF4\u660E" aria-hidden="true">#</a> [2]\u914D\u7F6E\u6587\u4EF6\u8BF4\u660E</h3><h4 id="\u73AF\u5883\u53D8\u91CF\u7684\u6743\u91CD" tabindex="-1"><a class="header-anchor" href="#\u73AF\u5883\u53D8\u91CF\u7684\u6743\u91CD" aria-hidden="true">#</a> \u73AF\u5883\u53D8\u91CF\u7684\u6743\u91CD</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token punctuation">[</span>mode<span class="token punctuation">]</span><span class="token punctuation">.</span>local <span class="token operator">&gt;</span> <span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token punctuation">[</span>mode<span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token punctuation">.</span>env<span class="token punctuation">.</span>local <span class="token operator">&gt;</span> <span class="token punctuation">.</span>env 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u53D8\u91CF\u540D\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_3-\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u53D8\u91CF\u540D\u95EE\u9898" aria-hidden="true">#</a> [3]\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u53D8\u91CF\u540D\u95EE\u9898</h3><p>\u6211\u4EEC\u5728 Vue \u7684\u524D\u7AEF\u4EE3\u7801\u4E2D\u6253\u5370\u51FA\u7684 <code>p<wbr>rocess.env</code> \u4E0E <code>vue.config.js</code>\u914D\u7F6E\u6587\u4EF6\u4E2D\u8F93\u51FA\u7684\u53EF\u80FD\u662F\u4E0D\u4E00\u6837\u7684\u3002</p><h4 id="vuecli" tabindex="-1"><a class="header-anchor" href="#vuecli" aria-hidden="true">#</a> vuecli</h4><ul><li>\u63A8\u8350\u73AF\u5883\u914D\u7F6E\u6587\u4EF6\u4E2D\u4EE5 <code>VUE_APP_</code> \u5F00\u5934\uFF08<code>NODE_ENV</code> \u548C <code>BASE_URL</code> \u8FD9\u4E24\u4E2A\u7279\u6B8A\u53D8\u91CF\u9664\u5916\uFF09</li><li>\u8FD9\u6837\u624D\u80FD\u5728\u9879\u76EE(\u5BA2\u6237\u7AEF\uFF09\u4EE3\u7801\u4E2D\u901A\u8FC7<code>p<wbr>rocess.env</code>\u83B7\u53D6\u5230\u8BE5\u53D8\u91CF\uFF08\u5728\u914D\u7F6Evue.config.js\uFF08\u670D\u52A1\u7AEF\uFF09\u6587\u4EF6\u4E2D\u53D6\u5230\uFF09</li><li>\u5176\u539F\u7406\u4E3Awebpack DefinePlugin \u5185\u7F6E\u63D2\u4EF6\u7684\u76F8\u5173\u5185\u5BB9\uFF0C\u5C06p<wbr>rocess.env\u6CE8\u5165\u5230\u5BA2\u6237\u7AEF\u4EE3\u7801\u4E2D\u3002</li><li>\u4F46\u662F\u7ECF\u8FC7CLI\u5C01\u88C5\u540E\u4EC5\u652F\u6301\u6CE8\u5165\u73AF\u5883\u914D\u7F6E\u6587\u4EF6\u4E2D\u4EE5<code>VUE_APP_</code> \u5F00\u5934\u7684\u53D8\u91CF\uFF0C\u800C <code>NODE_ENV</code> \u548C <code>BASE_URL</code> \u8FD9\u4E24\u4E2A\u7279\u6B8A\u53D8\u91CF\u9664\u5916\u3002</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8f9f1417838c444882f65ec81c1c3843~tplv-k3u1fbpfcp-zoom-1.image" alt="image-20211126233212993"></p><h4 id="vite" tabindex="-1"><a class="header-anchor" href="#vite" aria-hidden="true">#</a> vite</h4><ul><li>\u4E3A\u4E86\u9632\u6B62\u610F\u5916\u5730\u5C06\u4E00\u4E9B\u73AF\u5883\u53D8\u91CF\u6CC4\u6F0F\u5230\u5BA2\u6237\u7AEF\uFF0C\u5728vite\u4E2D\u540C\u7406\uFF1A\u8981\u4EE5 <code>VITE_</code> \u4E3A\u524D\u7F00\u7684\u53D8\u91CF\u624D\u4F1A\u66B4\u9732\u524D\u7AEF\u4EE3\u7801\uFF08\u5BA2\u6237\u7AEF\uFF09</li><li>\u4E0D\u540C\u4E8Evuecli\u53EF\u4EE5\u5728vue.config.js\u4E2D\u76F4\u63A5\u901A\u8FC7<code>p<wbr>rocess.env</code>\u76F4\u63A5\u83B7\u53D6\u73AF\u5883\u53D8\u91CF\uFF0C\u5728vite\u4E2D\u662F\u4E0D\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528<code>i<wbr>mport.meta.env</code>\u6765\u83B7\u53D6\u7684</li><li>\u8FD9\u91CC\u6709\u4E00\u4E2A\u6A21\u5F0F\u7684\u6982\u5FF5\uFF0C\u9700\u8981\u6839\u636E\u9879\u76EE\u7684\u4E00\u4E9B\u9700\u6C42\u6765\u8FDB\u884C\u914D\u7F6E\u83B7\u53D6\uFF0C\u8BE6\u89C1\u5B98\u65B9\u6587\u6863\u5427</li></ul><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/06b0911df424416592e1967a46ed01a2~tplv-k3u1fbpfcp-watermark.image?" alt="IMG_8003.GIF"></p>`,32);function p(t,o){return e}var r=n(s,[["render",p],["__file","\u73AF\u5883\u53D8\u91CF.html.vue"]]);export{r as default};
